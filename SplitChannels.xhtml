<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE X3D PUBLIC "ISO//Web3D//DTD X3D 4.0//EN" "https://www.web3d.org/specifications/x3d-4.0.dtd">
<html xmlns='http://www.w3.org/1999/xhtml'>

<head>
	<meta name="reference" content="SplitChannels.js" />
	<meta name="TODO"
		content="write an XSLT conversion script X3dAudioGraphToJavaScript.xslt to produce comparable JavaScript source" />
	<meta name="TODO"
		content="write an XSLT conversion script X3dAudioGraphToSvgAudioGraph.xslt to produce a helpful diagram" />

	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta name="author" content="medialab.teicrete.gr" />
	<meta property="og:title" content="Spatial Sound in X3DOM with Web Audio API" />
	<meta property="og:image" content="http://medialab.teicrete.gr/minipages/x3domAudio/spatial.png" />
	<meta property="og:description"
		content="This work presents an innovative solution of the spatial sound in X3DOM framework, that based on a combinational methodology. Specifically, we suggested the enrichment of X3DOM with spatial sound features, using both the X3D sound nodes and the structure of Web Audio API." />
	<meta name="twitter:card" content="summary" />
	<meta name="twitter:title" content="Spatial Sound in X3DOM with Web Audio API" />
	<meta name="twitter:description"
		content="This work presents an innovative solution of the spatial sound in X3DOM framework, that based on a combinational methodology. Specifically, we suggested the enrichment of X3DOM with spatial sound features, using both the X3D sound nodes and the structure of Web Audio API." />
	<meta name="twitter:image" content="http://medialab.teicrete.gr/minipages/x3domAudio/spatial.png" />

	<title>X3DOM AUDIO</title>

	<script type='text/javascript' src='https://x3dom.org/download/dev/x3dom-full.debug.js'></script>
	<link rel='stylesheet' type='text/css' href='https://x3dom.org/download/dev/x3dom.css' />

	<style type="text/css">
		* {
			-webkit-user-select: none;
			-moz-user-select: none;
			cursor: default;
		}

		body {
			font: 13px/18px Arial, sans-serif;
		}

		a {
			color: inherit;
			cursor: pointer;
		}

		ul {
			padding: 0 0 0 20px;
		}

		h1 {
			font: bold italic 30px/30px Georgia;
			text-align: center;
		}

		h2 {
			font: bold italic 17px/17px Georgia;
			padding-top: 10px;
		}
	</style>


	<script type='text/javascript' src='SpatialSound.js'></script>

</head>

<body>
	<!-- Page Content -->
	<div class="container">

		<!-- Page Heading/Breadcrumbs -->
		<div class="row">
			<div class="col-lg-12">
				<h1>X3D Split Channels - X3D Node Graph</h1>

				<ol class="breadcrumb">
					<li><a href="index.html">Home</a>
					</li>
					<li class="active">Split Channels</li>
				</ol>
			</div>
		</div>
		<!-- /.row -->

		<!-- Image Header -->
		<div class="row">

			<div class="container">

				<X3D profile='Full' version='4.0' xmlns:xsd='http://www.w3.org/2001/XMLSchema-instance'
					xsd:noNamespaceSchemaLocation='https://www.web3d.org/specifications/x3d-4.0.xsd'
					style="float:left; border: 1px solid #000;">
					<Scene>
						<NavigationInfo id='NAV' headlight='true' type='"NONE"' />
						<Background skyColor='0.200 0.200 0.210' />
						<Viewpoint
							description='Viewpoint is like camera, prepositioned in locations (and directions) of interest. In this example the camera is the "ears of the user". 
						So, if the trackCurrentView field from ListenerPointSource is true then position and orientation matches the users current view'
							position='0.0 500.0 600.0' orientation='1 0 0 -0.5' fieldOfView='0.7854'
							retainUserOffsets='true' />



						<Transform translation="100 400 400" rotation='0 0 1 0'>
							<Transform id='pR' translation="0 40 0" rotation='1 0 0 -0.5'>
								<Shape>
									<Appearance>
										<Material diffuseColor='0 1 0' specularColor='0.01 0.01 0.01'
											emissiveColor='0.0 0.0 0.0' />
									</Appearance>
									<Box size='10 80 0.01' />
								</Shape>
							</Transform>
							<Transform translation="-2.7 37 0" rotation='1 0 0 -0.5'>
								<Shape>
									<Appearance>
										<Material diffuseColor='0 1 0' specularColor='0.01 0.01 0.01'
											emissiveColor='0.0 0.0 0.0' />
										<ImageTexture containerField='texture'
											url='"images/line.png" "https://x3dgraphics.com/examples/X3dForAdvancedModeling/AudioSpatialSound/images/line.png" "https://medialab.hmu.gr/minipages/x3domAudio/images/line.png"' />
									</Appearance>
									<Box size='25 83 0.01' />
								</Shape>
							</Transform>


							<Transform translation='0 -10 0' rotation='1 0 0 -0.5' scale="10 10 10">
								<Shape>
									<Appearance>
										<Material ambientIntensity="0.0933" diffuseColor="1 1 1" shininess="0.51"
											specularColor="0.46 0.46 0.46" emissiveColor='0.0 0.0 0.0' />
									</Appearance>
									<Text string='"Right Channel Volume"' solid="false">
										<FontStyle family='"SERIF"' style="BOLD" size="1" horizontal="true"
											justify='"BEGIN"' leftToRight="true" spacing="1" topToBottom="true" />
									</Text>
								</Shape>
							</Transform>

						</Transform>



						<Transform translation="-100 400 400" rotation='0 0 1 0'>
							<Transform id='pL' translation="0 40 0" rotation='1 0 0 -0.5'>
								<Shape>
									<Appearance>
										<Material diffuseColor='0 1 0' specularColor='0.01 0.01 0.01'
											emissiveColor='0.0 0.0 0.0' />
									</Appearance>
									<Box size='10 80 0.01' />
								</Shape>
							</Transform>

							<Transform translation="13.2 37 0" rotation='1 0 0 -0.5'>
								<Shape>
									<Appearance>
										<Material diffuseColor='0 1 0' specularColor='0.01 0.01 0.01'
											emissiveColor='0.0 0.0 0.0' />
										<ImageTexture containerField='texture'
											url='"images/line.png" "https://x3dgraphics.com/examples/X3dForAdvancedModeling/AudioSpatialSound/images/line.png" "https://medialab.hmu.gr/minipages/x3domAudio/images/line.png"' />
									</Appearance>
									<Box size='25 83 0.01' />
								</Shape>
							</Transform>

							<Transform translation='0 -10 0' rotation='1 0 0 -0.5' scale="10 10 10">
								<Shape>
									<Appearance>
										<Material ambientIntensity="0.0933" diffuseColor="1 1 1" shininess="0.51"
											specularColor="0.46 0.46 0.46" emissiveColor='0.0 0.0 0.0' />
									</Appearance>
									<Text string='"Left Channel Volume"' solid="false">
										<FontStyle family='"SERIF"' style="BOLD" size="1" horizontal="true"
											justify='"BEGIN"' leftToRight="true" spacing="1" topToBottom="true" />
									</Text>
								</Shape>
							</Transform>


						</Transform>


						<Transform>
							<Shape>
								<Appearance>
									<Material diffuseColor='0.1 0.1 0.1' shininess='0.8' specularColor='0.5 0.6 0.7' />
								</Appearance>
								<Box size='1500 10 500' />
							</Shape>
						</Transform>

						<Transform id="Transform3" translation="0 100 0" rotation='1 0 0 -0.5'>
							<Shape>
								<Appearance>
									<Material diffuseColor='0.3 1 0.3' specularColor='0.01 0.01 0.01'
										emissiveColor='0.0 0.0 0.0' />
									<ImageTexture containerField='texture'
										url='"images/loudspeaker.png" "https://x3dgraphics.com/examples/X3dForAdvancedModeling/AudioSpatialSound/images/loudspeaker.png" "https://medialab.hmu.gr/minipages/x3domAudio/images/loudspeaker.png"' />
								</Appearance>
								<Box size='100 100 0.001' />
							</Shape>
						</Transform>


						<AudioDestination channelInterpretation='speakers'>
							
							<ListenerPointSource id='ListenerPointSource' trackCurrentView='true'>
							</ListenerPointSource>

							<Gain description="The Gain node of AudioDestination: Gain3 Graph">
								<ChannelSplitter DEF="splitter" channelCountMode='explicit'>
									<Sound location='0 1.6 0'>

										<AudioClip id='AudioClip' description='AudioClip is the Sound Source'
											loop='true'
											url='"sound/violin.mp3" "sound/violin.wav"  "https://x3dgraphics.com/examples/X3dForAdvancedModeling/AudioSpatialSound/sound/violin.mp3" "https://medialab.hmu.gr/minipages/x3domAudio/sound/violin.mp3"'
											pauseTime='-1' resumeTime='-1' stopTime='-1' pitch='1'>
										</AudioClip>

									</Sound>
								</ChannelSplitter>

								<ChannelMerger>
									<ChannelSelector channelSelection='0'>
										<Gain description="The Gain node of ChannelSelector0: Gain0 Graph">
											<ChannelSplitter USE="splitter" />
										</Gain>
									</ChannelSelector>

									<ChannelSelector channelSelection='1'>
										<Gain description="The Gain node of ChannelSelector1: Gain1 Graph">
											<ChannelSplitter USE="splitter" />
										</Gain>
									</ChannelSelector>
								</ChannelMerger>
							</Gain>
						</AudioDestination>




					</Scene>
				</X3D>
		</div>
		</div>

		<!-- /.row -->
		<!-- Service Tabs -->
		<div class="row">
			<div class="col-lg-12">
				<h2 class="page-header">Information</h2>
			</div>
			<div class="col-lg-12">

				<ul id="myTab" class="nav nav-tabs nav-justified">
					<li class="active"><a href="#service-one" data-toggle="tab"><i class="fa fa-tree"></i>
							Description</a>
					</li>
					<li class=""><a href="#service-two" data-toggle="tab"><i class="fa fa-car"></i>Registered nodes in
							X3D</a>
					</li>
				</ul>

				<div id="myTabContent" class="tab-content">
					<div class="tab-pane fade active in" id="service-one">
						<h4>Description</h4>
						<p style="text-align:justify;">
							In this demo, a simple sound source is inculded which can be moved right and left. Depending
							on the position of the
							sound source, the user can hear the produced sound from the corresponding output speaker.
						</p>
					</div>
					<div class="tab-pane fade" id="service-two">
						<h4>Use of new registered nodes in X3D</h4>
						<p style="text-align:justify;">

							<br />
							<br />
						</p>
						<p style="text-align:center;">
							<br />
							<br />
							<div class="col-md-2"></div>
							<div class="col-md-6"><img src="images/exampleSplitChannels.png" width="700px" />
							</div>
							<div class="col-md-2"></div>
						</p>
					</div>
				</div>

			</div>
		</div>
		<hr />

	
	</div>
	
	<script type='text/javascript' src='soundController_SplitChannels.js'></script>

</body>

</html>
